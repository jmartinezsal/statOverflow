extends layout.pug
include utils.pug

block head
  //- add page specific styles by appending to the head
  link(rel="stylesheet" href="/stylesheets/index.css")
  script(src="/javascripts/questionFeatures.js" type="module" defer)


  title= title
block content
  #questions__container
    h1 Top Questions
    each question in questions
      div(class="question__container" id=`question-container-${question.id}`)
        div(class="user__container")
          p= question.User.username
          img(src=question.User.avatarImage)
          a(href=`/question/${question.id}`)
            h3(id=`question-header-${question.id}`).qHeader= question.header
          p(id=`question-content-${question.id}`)= question.content
        if(userId === question.User.id)
          a(class="button question-edit-btn" id=`edit-btn-${question.id}`) Edit
          a(class="button question-delete-btn" id=`delete-btn-${question.id}`) Delete
          form(class="hidden" id=`edit-form-${question.id}` action=`/question/${id}/edit` method="put")
            +field("header", `edit-header-${question.id}`, question.header)
            +field("content", `edit-content-${question.id}`, question.content, "textarea")
            Button( id=`submit-edit-${question.id}`) Submit
            //- Button(type="button" id=`cancel-edit-${question.id}`) Cancel
